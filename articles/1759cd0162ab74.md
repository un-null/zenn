---
title: "å€‹äººçš„ React â€œãƒ¡ãƒ¢â€"
emoji: "ğŸ˜¶"
type: "tech"
topics:
  - "nextjs"
  - "react"
published: true
published_at: "2023-12-24 16:37"
---

GAOGAO ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼2023 12/20ã®è¨˜äº‹ã§ã™ã€‚

https://qiita.com/advent-calendar/2023/gaogao

React ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–ã«ãŠã„ã¦ãƒ¡ãƒ¢åŒ–ã‚’ä½¿ã‚ãªãã¦ã‚‚ååˆ†æœ€é©åŒ–ã§ãã‚‹ã€ã¨èãã¤ã‘ãŸã®ã§ã€ãã®ä»–ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–ã®æ‰‹æ³•ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚

:::message
æœ¬è¨˜äº‹ã¯å€‹äººçš„ãª React ã®å­¦ç¿’ãƒ¡ãƒ¢ã§ã™ã€‚é–“é•ã„ãŒã‚ã‚Œã°ãœã²ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ï¼
:::

# ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
å•é¡Œç‚¹ï¼šcount ãŒæ›´æ–°ã•ã‚Œã‚‹ã”ã¨ã« `<HeavyList>` ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã™ã‚‹

```jsx
import { useState } from 'react';

export default function App() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount((prevCount) => prevCount + 1)}>
        Increment
      </button>
      <HeavyList />
    </div>
  );
};
```

# çµè«–
**Compsoition** ã‚’ç”¨ã„ã‚‹ã€‚
```diff jsx
  export default function App() {
    return (
+     <Counter>
        <HeavyList>
+     </Counter>
    )
  };

+ function Counter({ children }) {
    const [count, setCount] = useState(0);

    return (
      <div>
        <p>Count: {count}</p>
        <button onClick={() => setCount((prevCount) => prevCount + 1)}>
          Increment
        </button>
+       {children}
      </div>
    );
  };
```

# Comoposition ã¨ã¯
ReactNode å‹ã® Props ã‚’æ‰±ã†ã“ã¨ã§ã€ã“ã‚Œã«ã‚ˆã‚Š children ã¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã¨ãªã‚‹ã€‚ ThemaProvider ãªã©ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹å½¢ã€‚

```diff jsx
function App() {
  return (
+   <ComponentA>
      <ComponentB />
+   </ComponentA>
  )
}

function ComponentA({children}) {
  return (
    <div>
+     {children}
    </div>
  )
}
```

# ãƒ¡ãƒªãƒƒãƒˆ
### ç„¡é§„ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å›é¿ã§ãã‚‹
count ãŒæ›´æ–°ã•ã‚Œã‚‹åº¦ã« `<Counter>` ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ãŒã€children (`<HeavyList>`ï¼‰ ã¯ã€å‰å› `<App>` ã‹ã‚‰æ¸¡ã•ã‚ŒãŸã‚‚ã®ã¨åŒã˜ã§ã‚ã‚‹ãŸã‚ `<HeavyList>` è‡ªä½“ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„ã€‚

https://twitter.com/asidorenko_/status/1618901182508048388

### Props Drilling ã‚’å›é¿ã§ãã‚‹

https://twitter.com/asidorenko_/status/1623751929863016450

# æ„Ÿæƒ³
èª¿ã¹ã¦ã¿ã‚‹ã¨ä½•å¹´ã‚‚å‰ã‹ã‚‰æè¨€ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã§ã¯ã‚ã£ãŸã—ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ãŸã€‚

https://overreacted.io/before-you-memo/
https://ja.react.dev/learn/passing-props-to-a-component#passing-jsx-as-children

ã¨ã¯ã„ãˆ RSC ã‚„ React Forget ã«å½±éŸ¿ã•ã‚Œã¦ã€è¿‘é ƒãã®é‡è¦æ€§ãŒã•ã‚‰ã«å¢—ã—ã¦ã„ã‚‹ã¨æ€ã†ã®ã§ã€ã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒã§ãã¦ã‚ˆã‹ã£ãŸã€‚

### â‘  RSC
RSC ã«ã‚ˆã£ã¦ã€ã€Œã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ã¨ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿè¡Œã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ã‚’åŒºåˆ¥ã™ã‚‹ã€‚ã¾ãŸã€RSC ã§ã¯ Client Component ã®ä¸­ã« ServerComponent ã‚’é…ç½®ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŒã€ã“ã‚Œã¯ Composition ã«ã‚ˆã£ã¦å®Ÿç¾ã•ã‚Œã¦ã„ã‚‹ã€‚

https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#supported-pattern-passing-server-components-to-client-components-as-props

### â‘¡ React Forget
React ã§ã¯ 2023 å¹´ç¾åœ¨ React Forget ã¨å‘¼ã°ã‚Œã‚‹æœ€é©ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ãŒé–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã€‚
React ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ»ãƒ¢ãƒ‡ãƒ«ã‚’ç¶­æŒã—ãªãŒã‚‰ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚³ã‚¹ãƒˆã‚’æœ€å°åŒ–ã™ã‚‹ãŸã‚ã«ã€useMemo ã¨useCallback å‘¼ã³å‡ºã—ã«ç›¸å½“ã™ã‚‹ã‚‚ã®ã‚’è‡ªå‹•çš„ã«ç”Ÿæˆã™ã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¨ã®ã“ã¨ã€‚

https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023#react-optimizing-compiler

@[card](https://www.youtube.com/watch?v=lGEMwh32soc)

